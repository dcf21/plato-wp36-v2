
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>plato_wp36 package &#8212; plato-eas 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="plato_wp36.diagnostics package" href="plato_wp36.diagnostics.html" />
    <link rel="prev" title="plato_wp36" href="modules.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="plato-wp36-package">
<h1>plato_wp36 package<a class="headerlink" href="#plato-wp36-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="plato_wp36.diagnostics.html">plato_wp36.diagnostics package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.diagnostics.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.diagnostics.html#module-plato_wp36.diagnostics.pass_fail_table">plato_wp36.diagnostics.pass_fail_table module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.diagnostics.html#module-plato_wp36.diagnostics.progress_summary">plato_wp36.diagnostics.progress_summary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.diagnostics.html#module-plato_wp36.diagnostics.render_task_tree">plato_wp36.diagnostics.render_task_tree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.diagnostics.html#module-plato_wp36.diagnostics.timings_table">plato_wp36.diagnostics.timings_table module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.diagnostics.html#module-plato_wp36.diagnostics">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plato_wp36.vendor.html">plato_wp36.vendor package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.vendor.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.vendor.html#module-plato_wp36.vendor.xmltodict">plato_wp36.vendor.xmltodict module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plato_wp36.vendor.html#module-plato_wp36.vendor">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-plato_wp36.connect_db">
<span id="plato-wp36-connect-db-module"></span><h2>plato_wp36.connect_db module<a class="headerlink" href="#module-plato_wp36.connect_db" title="Permalink to this heading">¶</a></h2>
<p>Module for connecting to MySQL database for storage of results.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.connect_db.</span></span><span class="sig-name descname"><span class="pre">DatabaseConnector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_passwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_database</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseConnector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Factory class for creating connections to SQL databases.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseConnector.interface">
<span class="sig-name descname"><span class="pre">interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseConnector.interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new connection to the database as a DatabaseInterface object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>connect</strong> – Flag indicating whether we immediately open connection to database, or whether the user will subsequently
open a database connection explicitly.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of DatabaseInterface</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.connect_db.</span></span><span class="sig-name descname"><span class="pre">DatabaseInterface</span></span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class defining a unified interface for interacting with SQL databases.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close connection to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit changes to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a connection to the SQL database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.create_database">
<span class="sig-name descname"><span class="pre">create_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialise_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.create_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty SQL database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>initialise_schema</strong> – Boolean flag indicating whether we initialise the schema of the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.dump">
<span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a gzipped database dump to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> – The filename for the database dump</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.fetchall">
<span class="sig-name descname"><span class="pre">fetchall</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.fetchall" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch all results.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.fetchone">
<span class="sig-name descname"><span class="pre">fetchone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.fetchone" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a single result.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.lastrowid">
<span class="sig-name descname"><span class="pre">lastrowid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.lastrowid" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the ID of the last inserted row.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.make_sql_login_config">
<span class="sig-name descname"><span class="pre">make_sql_login_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.make_sql_login_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SQL configuration file with default username and password, which means we can log into database without
supplying these when we try to connect to the database in the future.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.parameterised_query">
<span class="sig-name descname"><span class="pre">parameterised_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.parameterised_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a database query with a single set of input parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.parameterised_query_many">
<span class="sig-name descname"><span class="pre">parameterised_query_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.parameterised_query_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a database query with multiple sets of input parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.restore">
<span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore from a database dump</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_filename</strong> – The filename from which to read the database dump</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.sql_login_config_path">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sql_login_config_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.sql_login_config_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the path to SQL configuration file with username and password that we use for future connections.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterface.test_database_exists">
<span class="sig-name descname"><span class="pre">test_database_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterface.test_database_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the task database has already been set up.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean indicating whether the database has been set up</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.connect_db.</span></span><span class="sig-name descname"><span class="pre">DatabaseInterfaceMySql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_passwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_database</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plato_wp36.connect_db.DatabaseInterface" title="plato_wp36.connect_db.DatabaseInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseInterface</span></code></a></p>
<p>Class defining an interface for interacting with MySQL databases.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close connection to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit changes to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a connection to the SQL database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.create_database">
<span class="sig-name descname"><span class="pre">create_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialise_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.create_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty SQL database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>initialise_schema</strong> – Boolean flag indicating whether we initialise the schema of the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.dump">
<span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a gzipped database dump to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> – The filename for the database dump</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.make_sql_login_config">
<span class="sig-name descname"><span class="pre">make_sql_login_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.make_sql_login_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SQL configuration file with username and password, which means we can log into database without
supplying these on the command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.parameterised_query">
<span class="sig-name descname"><span class="pre">parameterised_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.parameterised_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a database query with a single set of input parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.parameterised_query_many">
<span class="sig-name descname"><span class="pre">parameterised_query_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.parameterised_query_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a database query with multiple sets of input parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.restore">
<span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore from a database dump</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_filename</strong> – The filename from which to read the database dump</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceMySql.test_database_exists">
<span class="sig-name descname"><span class="pre">test_database_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceMySql.test_database_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the task database has already been set up.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean indicating whether the database has been set up</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.connect_db.</span></span><span class="sig-name descname"><span class="pre">DatabaseInterfaceSqlite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_database</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plato_wp36.connect_db.DatabaseInterface" title="plato_wp36.connect_db.DatabaseInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseInterface</span></code></a></p>
<p>Class defining an interface for interacting with sqlite3 databases.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close connection to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit changes to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a connection to the SQL database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.create_database">
<span class="sig-name descname"><span class="pre">create_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialise_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.create_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty SQL database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>initialise_schema</strong> – Boolean flag indicating whether we initialise the schema of the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.dump">
<span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a gzipped database dump to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> – The filename for the database dump</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.make_sql_login_config">
<span class="sig-name descname"><span class="pre">make_sql_login_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.make_sql_login_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SQL configuration file with username and password, which means we can log into database without
supplying these on the command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.parameterised_query">
<span class="sig-name descname"><span class="pre">parameterised_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.parameterised_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a database query with a single set of input parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.parameterised_query_many">
<span class="sig-name descname"><span class="pre">parameterised_query_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.parameterised_query_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a database query with multiple sets of input parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.restore">
<span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore from a database dump</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_filename</strong> – The filename from which to read the database dump</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.connect_db.DatabaseInterfaceSqlite.test_database_exists">
<span class="sig-name descname"><span class="pre">test_database_exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.connect_db.DatabaseInterfaceSqlite.test_database_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the task database has already been set up.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean indicating whether the database has been set up</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.constants">
<span id="plato-wp36-constants-module"></span><h2>plato_wp36.constants module<a class="headerlink" href="#module-plato_wp36.constants" title="Permalink to this heading">¶</a></h2>
<p>Some constants which can be used in task descriptions</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.constants.EASConstants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.constants.</span></span><span class="sig-name descname"><span class="pre">EASConstants</span></span><a class="headerlink" href="#plato_wp36.constants.EASConstants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="module-plato_wp36.lc_reader_lcsg">
<span id="plato-wp36-lc-reader-lcsg-module"></span><h2>plato_wp36.lc_reader_lcsg module<a class="headerlink" href="#module-plato_wp36.lc_reader_lcsg" title="Permalink to this heading">¶</a></h2>
<p>Read the ASCII lightcurves generated by the lightcurve stitching group, and turn them into Lightcurve objects.</p>
<dl class="py function">
<dt class="sig sig-object py" id="plato_wp36.lc_reader_lcsg.read_lcsg_lightcurve">
<span class="sig-prename descclassname"><span class="pre">plato_wp36.lc_reader_lcsg.</span></span><span class="sig-name descname"><span class="pre">read_lcsg_lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzipped</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_off_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lc_reader_lcsg.read_lcsg_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a lightcurve from an ASCII data file.</p>
<p>ASCII file should have three columns:
time [days] ; flux ; flag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – The full path to the input data file.</p></li>
<li><p><strong>gzipped</strong> (<em>bool</em>) – Boolean flag indicating whether the input datafiles have been gzipped. If this is not set, a guess is made
from the filename suffix.</p></li>
<li><p><strong>cut_off_time</strong> (<em>float</em>) – Only read lightcurve up to some cut off time</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A &lt;LightcurveArbitraryRaster&gt; object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-plato_wp36.lightcurve">
<span id="plato-wp36-lightcurve-module"></span><h2>plato_wp36.lightcurve module<a class="headerlink" href="#module-plato_wp36.lightcurve" title="Permalink to this heading">¶</a></h2>
<p>Classes for representing light curves, either on arbitrary time rasters, or on rasters with fixed step.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.lightcurve.</span></span><span class="sig-name descname"><span class="pre">Lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class representing a lightcurve.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.check_fixed_step">
<span class="sig-name descname"><span class="pre">check_fixed_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.check_fixed_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that this light curve is sampled at a fixed time interval. Return the number of errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> – Should we output a logging message about every missing time point?</p></li>
<li><p><strong>max_errors</strong> – The maximum number of errors we should show</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the duration of the lightcurve [days]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.estimate_sampling_interval">
<span class="sig-name descname"><span class="pre">estimate_sampling_interval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.estimate_sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the time step on which this light curve is sampled, with robustness against missing points [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time step</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.get_flags">
<span class="sig-name descname"><span class="pre">get_flags</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.get_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the flags of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.get_fluxes">
<span class="sig-name descname"><span class="pre">get_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.get_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the fluxes of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.get_time_of_point">
<span class="sig-name descname"><span class="pre">get_time_of_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.get_time_of_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time associated with a particular data point in the lightcurve [days]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.get_times">
<span class="sig-name descname"><span class="pre">get_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.get_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the times of the lightcurve samples [days]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.get_uncertainties">
<span class="sig-name descname"><span class="pre">get_uncertainties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.get_uncertainties" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the uncertainties of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.to_file">
<span class="sig-name descname"><span class="pre">to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzipped</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a lightcurve out to a text data file. The time axis is multiplied by a factor 86400 to convert
from days into seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_path</strong> – The target file path where we should create a file representing this lightcurve.</p></li>
<li><p><strong>binary</strong> – Boolean specifying whether we store lightcurve on disk in binary format or plain text.</p></li>
<li><p><strong>gzipped</strong> – Boolean specifying whether we gzip plain-text lightcurves.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict of metadata associated with the written file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.Lightcurve.truncate_to_length">
<span class="sig-name descname"><span class="pre">truncate_to_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximum_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.Lightcurve.truncate_to_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate a lightcurve to only contain data points within a certain time range [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum_time</strong> – The lowest time value for which flux points should be included [days]</p></li>
<li><p><strong>maximum_time</strong> – The highest time value for which flux points should be included [days]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Lightcurve object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.lightcurve.</span></span><span class="sig-name descname"><span class="pre">LightcurveArbitraryRaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncertainties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plato_wp36.lightcurve.Lightcurve" title="plato_wp36.lightcurve.Lightcurve"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lightcurve</span></code></a></p>
<p>A class representing a lightcurve which is sampled on an arbitrary raster of times.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.check_fixed_step">
<span class="sig-name descname"><span class="pre">check_fixed_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.check_fixed_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that this light curve is sampled at a fixed time interval. Return the number of errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> – Should we output a logging message about every missing time point?</p></li>
<li><p><strong>max_errors</strong> – The maximum number of errors we should show</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.estimate_sampling_interval">
<span class="sig-name descname"><span class="pre">estimate_sampling_interval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.estimate_sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the time step on which this light curve is sampled, with robustness against missing points [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time step</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_off_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a lightcurve from a data file in our lightcurve archive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – The path to the input data file.</p></li>
<li><p><strong>file_metadata</strong> – A dictionary of metadata associated with the input file.</p></li>
<li><p><strong>cut_off_time</strong> – Only read lightcurve up to some cut-off time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A &lt;LightcurveArbitraryRaster&gt; object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.get_flags">
<span class="sig-name descname"><span class="pre">get_flags</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.get_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the flags of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.get_fluxes">
<span class="sig-name descname"><span class="pre">get_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.get_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the fluxes of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.get_time_of_point">
<span class="sig-name descname"><span class="pre">get_time_of_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.get_time_of_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time associated with a particular data point in the lightcurve [days]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.get_times">
<span class="sig-name descname"><span class="pre">get_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.get_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the times of the lightcurve samples [days]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.get_uncertainties">
<span class="sig-name descname"><span class="pre">get_uncertainties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.get_uncertainties" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the uncertainties of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.to_fixed_step">
<span class="sig-name descname"><span class="pre">to_fixed_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.to_fixed_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this lightcurve to a fixed time stride.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> – Should we output a logging message about every missing time point?</p></li>
<li><p><strong>max_errors</strong> – The maximum number of errors we should show</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[LightcurveFixedStep]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveArbitraryRaster.truncate_to_length">
<span class="sig-name descname"><span class="pre">truncate_to_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximum_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster.truncate_to_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate a lightcurve to only contain data points within a certain time range [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum_time</strong> – The lowest time value for which flux points should be included [days]</p></li>
<li><p><strong>maximum_time</strong> – The highest time value for which flux points should be included [days]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Lightcurve object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.lightcurve.</span></span><span class="sig-name descname"><span class="pre">LightcurveFixedStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncertainties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plato_wp36.lightcurve.Lightcurve" title="plato_wp36.lightcurve.Lightcurve"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lightcurve</span></code></a></p>
<p>A class representing a lightcurve which is sampled on a fixed time step.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.check_fixed_step">
<span class="sig-name descname"><span class="pre">check_fixed_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.check_fixed_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that this light curve is sampled at a fixed time interval. Return the number of errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> – Should we output a logging message about every missing time point?</p></li>
<li><p><strong>max_errors</strong> – The maximum number of errors we should show</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.estimate_sampling_interval">
<span class="sig-name descname"><span class="pre">estimate_sampling_interval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.estimate_sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the time step on which this light curve is sampled, with robustness against missing points [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time step</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.get_flags">
<span class="sig-name descname"><span class="pre">get_flags</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.get_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the flags of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.get_fluxes">
<span class="sig-name descname"><span class="pre">get_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.get_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the fluxes of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.get_time_of_point">
<span class="sig-name descname"><span class="pre">get_time_of_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.get_time_of_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time value associated with a particular index in this lightcurve [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> – The index of the time point within the lightcurve</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The time value, in days</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.get_times">
<span class="sig-name descname"><span class="pre">get_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.get_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the times of the lightcurve samples [days]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.get_uncertainties">
<span class="sig-name descname"><span class="pre">get_uncertainties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.get_uncertainties" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the uncertainties of the lightcurve samples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve.LightcurveFixedStep.truncate_to_length">
<span class="sig-name descname"><span class="pre">truncate_to_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximum_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve.LightcurveFixedStep.truncate_to_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate a lightcurve to only contain data points within a certain time range [days]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum_time</strong> – The lowest time value for which flux points should be included [days]</p></li>
<li><p><strong>maximum_time</strong> – The highest time value for which flux points should be included [days]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Lightcurve object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.lightcurve_resample">
<span id="plato-wp36-lightcurve-resample-module"></span><h2>plato_wp36.lightcurve_resample module<a class="headerlink" href="#module-plato_wp36.lightcurve_resample" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.lightcurve_resample.LightcurveResampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.lightcurve_resample.</span></span><span class="sig-name descname"><span class="pre">LightcurveResampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_lc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.lightcurve.Lightcurve" title="plato_wp36.lightcurve.Lightcurve"><span class="pre">Lightcurve</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve_resample.LightcurveResampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class containing utility functions for resampling LCs onto different time rasters</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve_resample.LightcurveResampler.match_to_other_lightcurve">
<span class="sig-name descname"><span class="pre">match_to_other_lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.lightcurve.Lightcurve" title="plato_wp36.lightcurve.Lightcurve"><span class="pre">Lightcurve</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve_resample.LightcurveResampler.match_to_other_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample this lightcurve onto the same time raster of another LightcurveArbitraryRaster object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> – The other LightcurveArbitraryRaster object whose raster we should resample this
LightcurveArbitraryRaster onto.</p></li>
<li><p><strong>resample_flags</strong> – Should we bother re-sampling the spectrum’s flags as the data itself? If not, the mask will be cleared, but
the function will return 30% quicker.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New LightcurveArbitraryRaster object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.lightcurve_resample.LightcurveResampler.onto_raster">
<span class="sig-name descname"><span class="pre">onto_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.lightcurve_resample.LightcurveResampler.onto_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample this lightcurve onto a user-specified time raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_raster</strong> – The raster we should resample this lightcurve onto.</p></li>
<li><p><strong>resample_flags</strong> – Should we bother resampling the lightcurve’s flags as the data itself? If not, the flags will be cleared,
but the function will return 30% quicker.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New LightcurveArbitraryRaster object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.logging_database">
<span id="plato-wp36-logging-database-module"></span><h2>plato_wp36.logging_database module<a class="headerlink" href="#module-plato_wp36.logging_database" title="Permalink to this heading">¶</a></h2>
<p>A custom log handler class, which sends all logs messages to the EAS status database.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.logging_database.EasLoggingHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.logging_database.</span></span><span class="sig-name descname"><span class="pre">EasLoggingHandler</span></span><a class="headerlink" href="#plato_wp36.logging_database.EasLoggingHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">StreamHandler</span></code></p>
<p>A custom log handler, which sends all logs messages to the EAS status database.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.logging_database.EasLoggingHandler.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.logging_database.EasLoggingHandler.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Record a logging message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>record</strong> – The logging message to record to the database</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.logging_database.EasLoggingHandler.set_task_attempt_id">
<span class="sig-name descname"><span class="pre">set_task_attempt_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.logging_database.EasLoggingHandler.set_task_attempt_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the ID of the execution attempt we are currently running, so that this is recorded in any log messages.
:param attempt_id:</p>
<blockquote>
<div><p>The ID of the execution attempt.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.quality_control">
<span id="plato-wp36-quality-control-module"></span><h2>plato_wp36.quality_control module<a class="headerlink" href="#module-plato_wp36.quality_control" title="Permalink to this heading">¶</a></h2>
<p>Functions for computing quality control metrics. Many of these are rather arbitrarily defined currently.</p>
<dl class="py function">
<dt class="sig sig-object py" id="plato_wp36.quality_control.transit_detection_quality_control">
<span class="sig-prename descclassname"><span class="pre">plato_wp36.quality_control.</span></span><span class="sig-name descname"><span class="pre">transit_detection_quality_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster" title="plato_wp36.lightcurve.LightcurveArbitraryRaster"><span class="pre">LightcurveArbitraryRaster</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.quality_control.transit_detection_quality_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the metadata returned by a transit-detection algorithm is a successful detection, or a failure.
Currently the PLATO success criteria for transit detection are not tightly defined, so for the moment we use
an arbitrary statistic - detecting the correct period to within 3%.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lc</strong> (<a class="reference internal" href="#plato_wp36.lightcurve.LightcurveArbitraryRaster" title="plato_wp36.lightcurve.LightcurveArbitraryRaster"><em>LightcurveArbitraryRaster</em></a>) – The lightcurve object containing the input lightcurve.</p></li>
<li><p><strong>metadata</strong> (<em>Dict</em>) – The metadata dictionary returned by the transit-detection code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated metadata dictionary, with QC data added.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-plato_wp36.settings">
<span id="plato-wp36-settings-module"></span><h2>plato_wp36.settings module<a class="headerlink" href="#module-plato_wp36.settings" title="Permalink to this heading">¶</a></h2>
<p>Compile the settings to be used for this installation of the EAS pipeline code. We merge default values for each
setting below with local overrides which can be placed in the YAML file
&lt;configuration/installation_settings.conf&gt;.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.settings.Settings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.settings.</span></span><span class="sig-name descname"><span class="pre">Settings</span></span><a class="headerlink" href="#plato_wp36.settings.Settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class containing EAS pipeline settings.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.settings.Settings.fetch_environment_settings">
<span class="sig-name descname"><span class="pre">fetch_environment_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.settings.Settings.fetch_environment_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.settings.Settings.fetch_local_settings">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetch_local_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.settings.Settings.fetch_local_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.task_database">
<span id="plato-wp36-task-database-module"></span><h2>plato_wp36.task_database module<a class="headerlink" href="#module-plato_wp36.task_database" title="Permalink to this heading">¶</a></h2>
<p>Module for reading and writing task objects to the database.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_database.</span></span><span class="sig-name descname"><span class="pre">TaskDatabaseConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_store_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for reading and writing task objects to the database.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.close_db">
<span class="sig-name descname"><span class="pre">close_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.close_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Close database connection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit changes to the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.container_get_resource_assignment">
<span class="sig-name descname"><span class="pre">container_get_resource_assignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.container_get_resource_assignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the database with the system resources currently assigned to a particular type of worker container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>container_name</strong> – The name of the worker container.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.container_set_resource_assignment">
<span class="sig-name descname"><span class="pre">container_set_resource_assignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_gb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.container_set_resource_assignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the database with the system resources currently assigned to a particular type of worker container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>container_name</strong> – The name of the worker container.</p></li>
<li><p><strong>cpu</strong> – The number of CPU cores assigned to each instance of the worker container.</p></li>
<li><p><strong>gpu</strong> – The number of GPU units assigned to each instance of the worker container.</p></li>
<li><p><strong>memory_gb</strong> – The number of GB of RAM assigned to each instance of the worker container.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_delete">
<span class="sig-name descname"><span class="pre">execution_attempt_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a scheduling attempt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attempt_id</strong> (<em>int</em>) – The execution attempt ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_exists_in_db">
<span class="sig-name descname"><span class="pre">execution_attempt_exists_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_exists_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given task execution attempt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attempt_id</strong> (<em>int</em>) – The attempt ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a record with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_fetch_output_files">
<span class="sig-name descname"><span class="pre">execution_attempt_fetch_output_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_fetch_output_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary of all the files generated by a task execution attempt, indexed by their
semantic types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>attempt_id</strong> – The ID of the task execution attempt.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of <code class="xref py py-class docutils literal notranslate"><span class="pre">FileProductVersion</span></code>, indexed by semantic type string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_lookup">
<span class="sig-name descname"><span class="pre">execution_attempt_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_task_object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a TaskExecutionAttempt object representing a task execution attempt in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attempt_id</strong> – The execution attempt ID</p></li>
<li><p><strong>embed_task_object</strong> – Boolean flag indicating whether the returned TaskExecutionAttempt object should include a descriptor for
its parent task.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskExecutionAttempt</span></code> instance, or None if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_register">
<span class="sig-name descname"><span class="pre">execution_attempt_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queued_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an attempt to execute a task in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The integer ID of the task which is being run in the &lt;eas_tasks&gt; table</p></li>
<li><p><strong>queued_time</strong> – The unix timestamp when this execution attempt was put into the job queue</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID for this execution attempt</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_register_output">
<span class="sig-name descname"><span class="pre">execution_attempt_register_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">execution_attempt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.task_objects.TaskExecutionAttempt" title="plato_wp36.task_objects.TaskExecutionAttempt"><span class="pre">TaskExecutionAttempt</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_register_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an output file product from a task execution attempt into the task database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>execution_attempt</strong> – The &lt;TaskExecutionAttempt&gt; describing the task execution which generated this file.</p></li>
<li><p><strong>output_name</strong> – The unique semantic type which identifies this output file from this task.</p></li>
<li><p><strong>file_path</strong> – The path to where a copy of the output file can be found.</p></li>
<li><p><strong>file_metadata</strong> – A dictionary of metadata to associate with this file product.</p></li>
<li><p><strong>preserve</strong> – A boolean indicating whether we should preserve the original file at location &lt;file_path&gt; after importing
it into the database, or whether it should be deleted once it is in the database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_update">
<span class="sig-name descname"><span class="pre">execution_attempt_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queued_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest_heartbeat_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_products_passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_time_wall_clock</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_time_cpu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_time_cpu_inc_children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_queued</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_running</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_finished</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.execution_attempt_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update information about a task execution attempt in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attempt_id</strong> – The integer ID of this task execution attempt.</p></li>
<li><p><strong>queued_time</strong> – The unix timestamp when this execution attempt was put into the job queue</p></li>
<li><p><strong>start_time</strong> – The unix timestamp when this execution attempt began to be executed</p></li>
<li><p><strong>latest_heartbeat_time</strong> – The unix timestamp when this execution attempt last sent a heartbeat message</p></li>
<li><p><strong>end_time</strong> – The unix timestamp when this execution attempt signaled that it had completed</p></li>
<li><p><strong>all_products_passed_qc</strong> – A boolean flag indicating whether all the file products from this execution attempt passed
their QC inspection.</p></li>
<li><p><strong>error_fail</strong> – A boolean flag indicating whether this execution attempt signalled that an error occurred</p></li>
<li><p><strong>error_text</strong> – The error message text associated with any failure of this job</p></li>
<li><p><strong>run_time_wall_clock</strong> – The number of seconds the job took to execute, in wall clock time</p></li>
<li><p><strong>run_time_cpu</strong> – The number of seconds the job took to execute, in CPU time</p></li>
<li><p><strong>run_time_cpu_inc_children</strong> – The number of seconds the job took to execute, in CPU time, including child threads</p></li>
<li><p><strong>is_queued</strong> – A boolean flag indicating whether this execution attempt is queued for execution</p></li>
<li><p><strong>is_running</strong> – A boolean flag indicating whether this execution attempt is currently running</p></li>
<li><p><strong>is_finished</strong> – A boolean flag indicating whether this execution attempt is finished</p></li>
<li><p><strong>metadata</strong> – A dictionary of metadata associated with this execution attempt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_by_filename">
<span class="sig-name descname"><span class="pre">file_product_by_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_by_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for a file product by directory and filename. Return all matches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – The directory that the file product is stored in.</p></li>
<li><p><strong>filename</strong> – The filename of the file product.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of integer IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_delete">
<span class="sig-name descname"><span class="pre">file_product_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an intermediate file product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_id</strong> (<em>int</em>) – The file ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_exists_in_db">
<span class="sig-name descname"><span class="pre">file_product_exists_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_exists_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given intermediate file product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_id</strong> (<em>int</em>) – The file ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a record with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_has_been_created">
<span class="sig-name descname"><span class="pre">file_product_has_been_created</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_has_been_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given file_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_id</strong> (<em>int</em>) – The file ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a file in the file system with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_has_passed_qc">
<span class="sig-name descname"><span class="pre">file_product_has_passed_qc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_has_passed_qc" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given file_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_id</strong> (<em>int</em>) – The file ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a file in the file system with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_lookup">
<span class="sig-name descname"><span class="pre">file_product_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a FileProduct object representing a file product in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_id</strong> (<em>int</em>) – The file ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">FileProduct</span></code> instance, or None if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_register">
<span class="sig-name descname"><span class="pre">file_product_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator_task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">planned_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a file product in the database, and move it into our file archive</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator_task</strong> – The ID integer of the pipeline task which generates this file product.</p></li>
<li><p><strong>directory</strong> – The directory in the file repository to place this file product into</p></li>
<li><p><strong>filename</strong> – The filename of this file product</p></li>
<li><p><strong>semantic_type</strong> – The name used to identify the type of data in this file, e.g. “lightcurve” or “periodogram”.
Each file output from any given pipeline step must have a unique semantic type.</p></li>
<li><p><strong>planned_time</strong> – The time when the pipeline scheduler created a database entry for this file product</p></li>
<li><p><strong>mime_type</strong> – The mime type of this file, used so a web interface can serve it if needed</p></li>
<li><p><strong>metadata</strong> – Dictionary of metadata associated with this file product</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID for this file product</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_product_update">
<span class="sig-name descname"><span class="pre">file_product_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">planned_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_product_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update information about a file product in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_id</strong> – The ID integer of the file product to update.</p></li>
<li><p><strong>planned_time</strong> – The time when the pipeline scheduler created a database entry for this file product</p></li>
<li><p><strong>mime_type</strong> – The mime type of this file, used so a web interface can serve it if needed</p></li>
<li><p><strong>metadata</strong> – Dictionary of metadata associated with this file product</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_by_product">
<span class="sig-name descname"><span class="pre">file_version_by_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_have_passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_by_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the ID (or IDs) of the file product versions associated with a particular integer file product ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_id</strong> – The file product ID in the &lt;eas_product&gt; table.</p></li>
<li><p><strong>attempt_id</strong> – The integer ID of the task execution attempt whose output files we should return. If none, then we return
the all versions of this file product.</p></li>
<li><p><strong>must_have_passed_qc</strong> – If true, then we only return files which have passed QC checks. If false, we also return file products
which have not passed QC (useful, for example, if the user is trying to <em>do</em> a QC check!)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_delete">
<span class="sig-name descname"><span class="pre">file_version_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an intermediate file product version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_version_id</strong> (<em>int</em>) – ID of a file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_exists_in_db">
<span class="sig-name descname"><span class="pre">file_version_exists_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_exists_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given file_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_version_id</strong> (<em>int</em>) – ID of a file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a record with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_exists_in_file_system">
<span class="sig-name descname"><span class="pre">file_version_exists_in_file_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_exists_in_file_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given file_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_version_id</strong> (<em>int</em>) – ID of a file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a file in the file system with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_get_hash">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">file_version_get_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">file_info_fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_get_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a random hexadecimal hash for a file product, used when storing it on disk to avoid clashes with other
files with the same filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> – Unix time associated with the file.</p></li>
<li><p><strong>filename</strong> – Filename of the file (used to determine the file type suffix)</p></li>
<li><p><strong>file_info_fields</strong> – An arbitrary list of string fields which are used to generate a unique hash for this file</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Hash string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_get_md5_hash">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">file_version_get_md5_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_get_md5_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the MD5 checksum for a file on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>string</em>) – Path to the file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MD5 checksum</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_lookup">
<span class="sig-name descname"><span class="pre">file_version_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a FileProductVersion object representing a file product in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_version_id</strong> (<em>int</em>) – ID of a file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">FileProduct</span></code> instance, or None if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_path_for_id">
<span class="sig-name descname"><span class="pre">file_version_path_for_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_exist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_path_for_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the file system path for a given file product version ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_version_id</strong> (<em>int</em>) – ID of a file (which may or may not exist, this method doesn’t check)</p></li>
<li><p><strong>full_path</strong> – If true, we return the full path of file products. Otherwise, the path relative to the file
repository root.</p></li>
<li><p><strong>must_exist</strong> – If true, we only return a file path if the file actually exists</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>System file path for the file, or None if there is no match</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_register">
<span class="sig-name descname"><span class="pre">file_version_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_by_task_execution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a file product in the database, and move it into our file archive</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_id</strong> – The integer ID of the intermediate file product of which this file is a version.</p></li>
<li><p><strong>generated_by_task_execution</strong> – The integer ID of the task execution attempt which generated this file.</p></li>
<li><p><strong>file_path_input</strong> – The path to where a copy of this file can be found (usually in a temporary file system)</p></li>
<li><p><strong>preserve</strong> – Boolean flag indicating whether the input file should be left in situ (copied into the archive), or removed
(moved into the archive).</p></li>
<li><p><strong>created_time</strong> – The time when this file product was created by the pipeline</p></li>
<li><p><strong>modified_time</strong> – The time when this file product was modified by the pipeline</p></li>
<li><p><strong>passed_qc</strong> – Boolean indicating whether QC checks have taken place on this file, and whether they passed</p></li>
<li><p><strong>metadata</strong> – Dictionary of metadata associated with this file product</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID for this file product</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.file_version_update">
<span class="sig-name descname"><span class="pre">file_version_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.file_version_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update information about a file product in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_version_id</strong> – The ID integer of the file product version to update.</p></li>
<li><p><strong>file_path_input</strong> – The path to where a copy of this file can be found (usually in a temporary file system)</p></li>
<li><p><strong>preserve</strong> – Boolean flag indicating whether the input file should be left in situ (copied into the archive), or removed
(moved into the archive).</p></li>
<li><p><strong>modified_time</strong> – The time when this file product was modified by the pipeline</p></li>
<li><p><strong>passed_qc</strong> – Boolean indicating whether QC checks have taken place on this file, and whether they passed</p></li>
<li><p><strong>metadata</strong> – Dictionary of metadata associated with this file product version</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.hostname_get_id">
<span class="sig-name descname"><span class="pre">hostname_get_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.hostname_get_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the numerical ID associated with a particular worker node’s hostname.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – String hostname of worker node</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.metadata_fetch_all">
<span class="sig-name descname"><span class="pre">metadata_fetch_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduling_attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.metadata_fetch_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch dictionary of metadata objects associated with an entity in the database. Specify <em>either</em> a task,
<em>or</em> an execution attempt, <em>or</em> an intermediate file product, <em>or</em> a file version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – Fetch metadata associated with a particular task.</p></li>
<li><p><strong>scheduling_attempt_id</strong> – Fetch metadata associated with a particular task execution attempt.</p></li>
<li><p><strong>product_id</strong> – Fetch metadata associated with a particular intermediate file product.</p></li>
<li><p><strong>product_version_id</strong> – Fetch metadata associated with a particular version of an intermediate file product.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of MetadataItem objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.metadata_fetch_item">
<span class="sig-name descname"><span class="pre">metadata_fetch_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduling_attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.metadata_fetch_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch dictionary of metadata objects associated with an entity in the database. Specify <em>either</em> a task,
<em>or</em> an execution attempt, <em>or</em> an intermediate file product, <em>or</em> a file version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyword</strong> – String metadata keyword</p></li>
<li><p><strong>task_id</strong> – Fetch metadata associated with a particular task.</p></li>
<li><p><strong>scheduling_attempt_id</strong> – Fetch metadata associated with a particular task execution attempt.</p></li>
<li><p><strong>product_id</strong> – Fetch metadata associated with a particular intermediate file product.</p></li>
<li><p><strong>product_version_id</strong> – Fetch metadata associated with a particular version of an intermediate file product.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of MetadataItem objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.metadata_keyword_id">
<span class="sig-name descname"><span class="pre">metadata_keyword_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.metadata_keyword_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the numerical ID associated with a metadata keyword.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keyword</strong> – String metadata keyword</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.metadata_register">
<span class="sig-name descname"><span class="pre">metadata_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduling_attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.metadata_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a dictionary of metadata objects associated with an entity in the database. Specify <em>either</em> a task,
<em>or</em> an execution attempt, <em>or</em> an intermediate file product, <em>or</em> a file version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – Register metadata associated with a particular task.</p></li>
<li><p><strong>scheduling_attempt_id</strong> – Register metadata associated with a particular task execution attempt.</p></li>
<li><p><strong>product_id</strong> – Register metadata associated with a particular intermediate file product.</p></li>
<li><p><strong>product_version_id</strong> – Fetch metadata associated with a particular version of an intermediate file product.</p></li>
<li><p><strong>metadata</strong> – Dictionary of &lt;MetadataItem&gt;s</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.semantic_type_get_id">
<span class="sig-name descname"><span class="pre">semantic_type_get_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.semantic_type_get_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the numerical ID associated with a semantic type name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – String semantic type</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_delete">
<span class="sig-name descname"><span class="pre">task_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> (<em>int</em>) – The task ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_exists_in_db">
<span class="sig-name descname"><span class="pre">task_exists_in_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_exists_in_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the presence of the given task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> (<em>int</em>) – The task ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we have a record with this ID, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_fetch_execution_attempts">
<span class="sig-name descname"><span class="pre">task_fetch_execution_attempts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">successful</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_fetch_execution_attempts" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary of all the attempts to execute a task, indexed by their integer UIDs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The ID of the task.</p></li>
<li><p><strong>successful</strong> – Boolean indicating whether we’re searching for successful executions, incomplete executions, or both</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of <code class="xref py py-class docutils literal notranslate"><span class="pre">TaskExecutionAttempt</span></code>, indexed by unique ID.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_fetch_file_inputs">
<span class="sig-name descname"><span class="pre">task_fetch_file_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_fetch_file_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary of all the file inputs to a task, indexed by their
semantic types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> – The ID of the task.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of <code class="xref py py-class docutils literal notranslate"><span class="pre">FileProduct</span></code>, indexed by semantic type string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_fetch_file_products">
<span class="sig-name descname"><span class="pre">task_fetch_file_products</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_fetch_file_products" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary of all the file products generated by a task, indexed by their
semantic types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> – The ID of the task.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of <code class="xref py py-class docutils literal notranslate"><span class="pre">FileProduct</span></code>, indexed by semantic type string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_fetch_metadata_inputs">
<span class="sig-name descname"><span class="pre">task_fetch_metadata_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_fetch_metadata_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary of metadata inputs to a task from previous tasks, indexed by their names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> – The ID of the task.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of dictionaries, indexed by the names of the tasks the metadata is coming from.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_lookup">
<span class="sig-name descname"><span class="pre">task_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a Task object representing a task in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> (<em>int</em>) – The task ID</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code> instance, or None if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_open_file_input">
<span class="sig-name descname"><span class="pre">task_open_file_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.task_objects.Task" title="plato_wp36.task_objects.Task"><span class="pre">Task</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.temporary_directory.TemporaryDirectory" title="plato_wp36.temporary_directory.TemporaryDirectory"><span class="pre">TemporaryDirectory</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_have_passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_open_file_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a copy of an input file to a task in a temporary directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task</strong> – The task which is requesting to open one of its input files.</p></li>
<li><p><strong>input_name</strong> – The semantic type which identifies the particular input file to this task.</p></li>
<li><p><strong>tmp_dir</strong> – The temporary directory in which we should serve up a copy of the requested file.</p></li>
<li><p><strong>execution_id</strong> – Optional - if set, only open file products generated by a particular execution attempt.</p></li>
<li><p><strong>must_have_passed_qc</strong> – If true, only open file products which have passed QC.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List [ file path to copy of file, file metadata dictionary ]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_register">
<span class="sig-name descname"><span class="pre">task_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fully_configured</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.FileProduct" title="plato_wp36.task_objects.FileProduct"><span class="pre">FileProduct</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new task in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_id</strong> – The integer ID of the parent task which may have spawned this sub-task
(e.g. a task execution chain)</p></li>
<li><p><strong>created_time</strong> – The unix timestamp when this task was created</p></li>
<li><p><strong>fully_configured</strong> – Boolean flag indicating whether this task should be marked in the database as fully configured and ready
to be scheduled.</p></li>
<li><p><strong>task_type</strong> – The string name of this type of task, as defined in &lt;task_type_registry.xml&gt;</p></li>
<li><p><strong>job_name</strong> – The human-readable name of the top-level job (requested by a user) that this task of part of</p></li>
<li><p><strong>task_name</strong> – The human-readable name of a task; used by its siblings to identify metadata coming from a task</p></li>
<li><p><strong>working_directory</strong> – The directory in the file store where this job should write its output file products</p></li>
<li><p><strong>input_files</strong> – The list of file products that this task uses as inputs. This task cannot be executed
until all of these file products exist and have passed QC.</p></li>
<li><p><strong>metadata</strong> – A dictionary of metadata associated with this task</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID for this task</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_type_list_fetch_id">
<span class="sig-name descname"><span class="pre">task_type_list_fetch_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_type_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_type_list_fetch_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the integer ID associated with a type of pipeline task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_type_name</strong> – The name of the pipeline task type.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer ID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_type_list_from_db">
<span class="sig-name descname"><span class="pre">task_type_list_from_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_type_list_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all known task type names, from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all known task type names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_type_list_to_db">
<span class="sig-name descname"><span class="pre">task_type_list_to_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.task_types.TaskTypeList" title="plato_wp36.task_types.TaskTypeList"><span class="pre">TaskTypeList</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_type_list_to_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a list of all known task type names to the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_database.TaskDatabaseConnection.task_update">
<span class="sig-name descname"><span class="pre">task_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_database.TaskDatabaseConnection.task_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update information about a task in the database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The integer ID of this task.</p></li>
<li><p><strong>metadata</strong> – A dictionary of metadata associated with this task.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.task_execution">
<span id="plato-wp36-task-execution-module"></span><h2>plato_wp36.task_execution module<a class="headerlink" href="#module-plato_wp36.task_execution" title="Permalink to this heading">¶</a></h2>
<p>Wrapper for the functions that perform EAS pipeline tasks.</p>
<p>This is performs housekeeping tasks that are common to all tasks, such as recording log messages in the EasControl
task database, recording the execution times of tasks, and sending heartbeat messages to indicate that a task is still
running.</p>
<dl class="py function">
<dt class="sig sig-object py" id="plato_wp36.task_execution.call_subprocess_and_catch_stdout">
<span class="sig-prename descclassname"><span class="pre">plato_wp36.task_execution.</span></span><span class="sig-name descname"><span class="pre">call_subprocess_and_catch_stdout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_execution.call_subprocess_and_catch_stdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a shell command, and capture any error messages sent to stderr, storing them in the logging database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arguments</strong> – A list of the command-line arguments to run in the shell.</p></li>
<li><p><strong>shell</strong> – Boolean indicating whether subprocess runs in a shell.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating whether the process exited with no error reported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plato_wp36.task_execution.call_subprocess_and_log_output">
<span class="sig-prename descclassname"><span class="pre">plato_wp36.task_execution.</span></span><span class="sig-name descname"><span class="pre">call_subprocess_and_log_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_execution.call_subprocess_and_log_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a shell command, and capture any error messages sent to stderr, storing them in the logging database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arguments</strong> – A list of the command-line arguments to run in the shell.</p></li>
<li><p><strong>shell</strong> – Boolean indicating whether subprocess runs in a shell.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating whether the process exited with no error reported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plato_wp36.task_execution.do_pipeline_task">
<span class="sig-prename descclassname"><span class="pre">plato_wp36.task_execution.</span></span><span class="sig-name descname"><span class="pre">do_pipeline_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_qc_task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_handler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#plato_wp36.task_objects.TaskExecutionAttempt" title="plato_wp36.task_objects.TaskExecutionAttempt"><span class="pre">TaskExecutionAttempt</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eas_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#plato_wp36.logging_database.EasLoggingHandler" title="plato_wp36.logging_database.EasLoggingHandler"><span class="pre">EasLoggingHandler</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_execution.do_pipeline_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the EAS pipeline task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – The integer ID of the job in &lt;eas_scheduling_attempt&gt; table. This allows us to fetch all the
metadata associated with the job we are to perform.</p></li>
<li><p><strong>is_qc_task</strong> – Boolean flag indicating whether this is a QC task.</p></li>
<li><p><strong>task_handler</strong> – <p>The function we should call to perform the pipeline task. It is passed three arguments:
task_handler(execution_attempt: task_database.TaskExecutionAttempt,</p>
<blockquote>
<div><p>task_info: task_database.Task,
task_description: Dict)</p>
</div></blockquote>
</p></li>
<li><p><strong>eas_logger</strong> – The &lt;EasLoggingHandler&gt; which is connected to this task’s logging stream, which will direct log messages
to the EasControl database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plato_wp36.task_execution.eas_pipeline_task">
<span class="sig-prename descclassname"><span class="pre">plato_wp36.task_execution.</span></span><span class="sig-name descname"><span class="pre">eas_pipeline_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_handler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#plato_wp36.task_objects.TaskExecutionAttempt" title="plato_wp36.task_objects.TaskExecutionAttempt"><span class="pre">TaskExecutionAttempt</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_execution.eas_pipeline_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an EAS pipeline task, reading the task configuration from the process’s getargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_handler</strong> – <p>The function we should call to perform the pipeline task. It is passed three arguments:
task_handler(execution_attempt: task_database.TaskExecutionAttempt,</p>
<blockquote>
<div><p>task_info: task_database.Task,
task_description: Dict)</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Callable[None, None]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-plato_wp36.task_expression_evaluation">
<span id="plato-wp36-task-expression-evaluation-module"></span><h2>plato_wp36.task_expression_evaluation module<a class="headerlink" href="#module-plato_wp36.task_expression_evaluation" title="Permalink to this heading">¶</a></h2>
<p>A class which takes the data structure containing the job description for a task, and evaluates any expressions
within that data structure. Where parameter values are specified as strings starting with the characters ‘ ” or (
these are taken as mathematical expressions to be evaluated in an environment where constants and metadata values
are available.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_expression_evaluation.TaskExpressionEvaluation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_expression_evaluation.</span></span><span class="sig-name descname"><span class="pre">TaskExpressionEvaluation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requested_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_expression_evaluation.TaskExpressionEvaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class which takes the data structure containing the job description for a task, and evaluates any expressions
within that data structure. Where parameter values are specified as strings starting with the characters ‘ ” or (
these are taken as mathematical expressions to be evaluated in an environment where constants and metadata values
are available.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_expression_evaluation.TaskExpressionEvaluation.evaluate_expression">
<span class="sig-name descname"><span class="pre">evaluate_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_expression_evaluation.TaskExpressionEvaluation.evaluate_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate an expression in the current context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expression</strong> – The expression to evaluate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The expression value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_expression_evaluation.TaskExpressionEvaluation.evaluate_in_structure">
<span class="sig-name descname"><span class="pre">evaluate_in_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_expression_evaluation.TaskExpressionEvaluation.evaluate_in_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Cycle through all the items in a hierarchy of lists and dictionaries, evaluating all the items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>structure</strong> – The structure of lists and dictionaries to cycle through.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the structure in which all expressions have been evaluated.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.task_heartbeat">
<span id="plato-wp36-task-heartbeat-module"></span><h2>plato_wp36.task_heartbeat module<a class="headerlink" href="#module-plato_wp36.task_heartbeat" title="Permalink to this heading">¶</a></h2>
<p>A class which can be used to wrap segments of code, and sends regular heartbeat updates to the task database to indicate
that a child process is still alive and working on the task. To use, wrap your code as follows:</p>
<dl class="simple">
<dt>with TaskHeartbeat( &lt;settings&gt; ):</dt><dd><p>&lt;code_segment&gt;</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_heartbeat.TaskHeartbeat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_heartbeat.</span></span><span class="sig-name descname"><span class="pre">TaskHeartbeat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heartbeat_cadence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_heartbeat.TaskHeartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class which can be used to wrap segments of code, and sends regular heartbeat updates to the task database to
indicate that a child process is still alive and working on the task.</p>
</dd></dl>

</section>
<section id="module-plato_wp36.task_objects">
<span id="plato-wp36-task-objects-module"></span><h2>plato_wp36.task_objects module<a class="headerlink" href="#module-plato_wp36.task_objects" title="Permalink to this heading">¶</a></h2>
<p>Pythonic objects to represent pipeline task entries in the database</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProduct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_objects.</span></span><span class="sig-name descname"><span class="pre">FileProduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProduct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class to represent an intermediate file product, each associated with the task which generated / will
generate them. Note that multiple versions of the same file product may exist on disk, if a task runs multiple
times.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProduct.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProduct.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a class instance into a Python dictionary, allowing it to be transmitted in JSON format.
:return:</p>
<blockquote>
<div><p>Dict</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProduct.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator_task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">planned_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProduct.configure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_id</strong> – The ID integer for this file product in the database.</p></li>
<li><p><strong>generator_task</strong> – The ID integer of the pipeline task which generates this file product.</p></li>
<li><p><strong>directory</strong> – The directory in the file repository to place this file product into</p></li>
<li><p><strong>filename</strong> – The filename of this file product</p></li>
<li><p><strong>semantic_type</strong> – The name used to identify the type of data in this file, e.g. “lightcurve” or “periodogram”.
Each file output from any given pipeline step must have a unique semantic type.</p></li>
<li><p><strong>planned_time</strong> – The time when the pipeline scheduler created a database entry for this file product</p></li>
<li><p><strong>mime_type</strong> – The mime type of this file, used so a web interface can serve it if needed</p></li>
<li><p><strong>metadata</strong> – Dictionary of metadata associated with this file product</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProduct.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProduct.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate a class instance from a Python dictionary, allowing it to be transmitted in JSON format.
:param d:</p>
<blockquote>
<div><p>Dictionary representation of class instance</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProduct.set_metadata">
<span class="sig-name descname"><span class="pre">set_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProduct.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an item of metadata associated with this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyword</strong> – Metadata keyword</p></li>
<li><p><strong>value</strong> – Metadata value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProductVersion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_objects.</span></span><span class="sig-name descname"><span class="pre">FileProductVersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProductVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class to represent a version of an intermediate file product. Multiple versions of the same file product
may exist on disk, if a task runs multiple times.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProductVersion.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProductVersion.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a class instance into a Python dictionary, allowing it to be transmitted in JSON format.
:return:</p>
<blockquote>
<div><p>Dict</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProductVersion.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_version_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_by_task_execution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repository_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_md5</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProductVersion.configure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_version_id</strong> – The integer ID of this version of a file product</p></li>
<li><p><strong>product_id</strong> – The integer ID of the intermediate file product of which this file is a version.</p></li>
<li><p><strong>generated_by_task_execution</strong> – The integer ID of the task execution attempt which generated this file.</p></li>
<li><p><strong>created_time</strong> – The time when this file product was created by the pipeline</p></li>
<li><p><strong>modified_time</strong> – The time when this file product was modified by the pipeline</p></li>
<li><p><strong>passed_qc</strong> – Boolean indicating whether QC checks have taken place on this file, and whether they passed</p></li>
<li><p><strong>metadata</strong> – Dictionary of metadata associated with this file product</p></li>
<li><p><strong>repository_id</strong> – The string filename used to store this file in the file store.</p></li>
<li><p><strong>file_md5</strong> – The MD5 hash of the file</p></li>
<li><p><strong>file_size</strong> – The number of bytes in the file</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProductVersion.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProductVersion.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate a class instance from a Python dictionary, allowing it to be transmitted in JSON format.
:param d:</p>
<blockquote>
<div><p>Dictionary representation of class instance</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.FileProductVersion.set_metadata">
<span class="sig-name descname"><span class="pre">set_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.FileProductVersion.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an item of metadata associated with this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyword</strong> – Metadata keyword</p></li>
<li><p><strong>value</strong> – Metadata value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_objects.MetadataItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_objects.</span></span><span class="sig-name descname"><span class="pre">MetadataItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.MetadataItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class representing a metadata value to associate with an item.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.MetadataItem.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.MetadataItem.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a class instance into a Python dictionary, allowing it to be transmitted in JSON format.
:return:</p>
<blockquote>
<div><p>Dict</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.MetadataItem.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.MetadataItem.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate a class instance from a Python dictionary, allowing it to be transmitted in JSON format.
:param d:</p>
<blockquote>
<div><p>Dictionary representation of class instance</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Class instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_objects.Task">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_objects.</span></span><span class="sig-name descname"><span class="pre">Task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class to represent a task in the &lt;eas_task&gt; database table.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.Task.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.Task.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a class instance into a Python dictionary, allowing it to be transmitted in JSON format.
:return:</p>
<blockquote>
<div><p>Dict</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.Task.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.FileProduct" title="plato_wp36.task_objects.FileProduct"><span class="pre">FileProduct</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_attempts_passed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#plato_wp36.task_objects.TaskExecutionAttempt" title="plato_wp36.task_objects.TaskExecutionAttempt"><span class="pre">TaskExecutionAttempt</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_attempts_incomplete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#plato_wp36.task_objects.TaskExecutionAttempt" title="plato_wp36.task_objects.TaskExecutionAttempt"><span class="pre">TaskExecutionAttempt</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.FileProduct" title="plato_wp36.task_objects.FileProduct"><span class="pre">FileProduct</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.Task.configure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The integer ID of this task in the &lt;eas_task&gt; table</p></li>
<li><p><strong>parent_id</strong> – The integer ID of the parent task which may have spawned this sub-task
(e.g. a task execution chain)</p></li>
<li><p><strong>created_time</strong> – The unix timestamp when this task was created</p></li>
<li><p><strong>task_type</strong> – The string name of this type of task, as defined in &lt;task_type_registry.xml&gt;</p></li>
<li><p><strong>job_name</strong> – The human-readable name of the top-level job (requested by a user) that this task of part of</p></li>
<li><p><strong>task_name</strong> – The human-readable name of a task; used by its siblings to identify metadata coming from a task</p></li>
<li><p><strong>working_directory</strong> – The directory in the file store where this job should write its output file products</p></li>
<li><p><strong>input_files</strong> – The list of file products that this task uses as inputs. This task cannot be executed
until all of these file products exist and have passed QC.</p></li>
<li><p><strong>input_files</strong> – A dictionary of metadata produced by previous tasks which this task has requested access to, indexed by
the name of the tasks which produced the metadata.</p></li>
<li><p><strong>execution_attempts_passed</strong> – A list of all the successfully completed attempts to execute this task</p></li>
<li><p><strong>execution_attempts_incomplete</strong> – A list of all the failed, or incomplete, attempts to execute this task</p></li>
<li><p><strong>metadata</strong> – A dictionary of metadata associated with this task</p></li>
<li><p><strong>output_files</strong> – A list of all the file products that this task will create, or has created</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.Task.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.Task.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate a class instance from a Python dictionary, allowing it to be transmitted in JSON format.
:param d:</p>
<blockquote>
<div><p>Dictionary representation of class instance</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.Task.set_metadata">
<span class="sig-name descname"><span class="pre">set_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.Task.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an item of metadata associated with this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyword</strong> – Metadata keyword</p></li>
<li><p><strong>value</strong> – Metadata value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_objects.TaskExecutionAttempt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_objects.</span></span><span class="sig-name descname"><span class="pre">TaskExecutionAttempt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.TaskExecutionAttempt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class to represent an attempt to execute a pipeline task.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.TaskExecutionAttempt.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.TaskExecutionAttempt.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a class instance into a Python dictionary, allowing it to be transmitted in JSON format.
:return:</p>
<blockquote>
<div><p>Dict</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.TaskExecutionAttempt.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queued_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest_heartbeat_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_products_passed_qc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_time_wall_clock</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_time_cpu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_time_cpu_inc_children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.MetadataItem" title="plato_wp36.task_objects.MetadataItem"><span class="pre">MetadataItem</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#plato_wp36.task_objects.FileProductVersion" title="plato_wp36.task_objects.FileProductVersion"><span class="pre">FileProductVersion</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.TaskExecutionAttempt.configure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attempt_id</strong> – The integer ID of this task execution attempt.</p></li>
<li><p><strong>task_id</strong> – The integer ID of the task which is being run in the &lt;eas_tasks&gt; table</p></li>
<li><p><strong>queued_time</strong> – The unix timestamp when this execution attempt was put into the job queue</p></li>
<li><p><strong>start_time</strong> – The unix timestamp when this execution attempt began to be executed</p></li>
<li><p><strong>latest_heartbeat_time</strong> – The unix timestamp when this execution attempt last sent a heartbeat message</p></li>
<li><p><strong>end_time</strong> – The unix timestamp when this execution attempt signaled that it had completed</p></li>
<li><p><strong>all_products_passed_qc</strong> – A boolean flag indicating whether all the file products from this execution attempt passed
their QC inspection.</p></li>
<li><p><strong>error_fail</strong> – A boolean flag indicating whether this execution attempt signalled that an error occurred</p></li>
<li><p><strong>error_text</strong> – The error message text associated with any failure of this job</p></li>
<li><p><strong>run_time_wall_clock</strong> – The number of seconds the job took to execute, in wall clock time</p></li>
<li><p><strong>run_time_cpu</strong> – The number of seconds the job took to execute, in CPU time</p></li>
<li><p><strong>run_time_cpu_inc_children</strong> – The number of seconds the job took to execute, in CPU time, including child threads</p></li>
<li><p><strong>metadata</strong> – A dictionary of metadata associated with this execution attempt.</p></li>
<li><p><strong>output_files</strong> – A dictionary of the output file products from this execution attempt, represented by
FileProductVersion objects.</p></li>
<li><p><strong>task_object</strong> – The &lt;Task&gt; object describing the task that this execution attempt is to run.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.TaskExecutionAttempt.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.TaskExecutionAttempt.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate a class instance from a Python dictionary, allowing it to be transmitted in JSON format.
:param d:</p>
<blockquote>
<div><p>Dictionary representation of class instance</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_objects.TaskExecutionAttempt.set_metadata">
<span class="sig-name descname"><span class="pre">set_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_objects.TaskExecutionAttempt.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an item of metadata associated with this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyword</strong> – Metadata keyword</p></li>
<li><p><strong>value</strong> – Metadata value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.task_queues">
<span id="plato-wp36-task-queues-module"></span><h2>plato_wp36.task_queues module<a class="headerlink" href="#module-plato_wp36.task_queues" title="Permalink to this heading">¶</a></h2>
<p>Python class for interacting with a message queue in RabbitMQ or SQL.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_queues.</span></span><span class="sig-name descname"><span class="pre">TaskQueue</span></span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class for describing an abstract job queue.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close our connection to the task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue.queue_declare">
<span class="sig-name descname"><span class="pre">queue_declare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue.queue_declare" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare a task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to declare</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue.queue_fetch_and_acknowledge">
<span class="sig-name descname"><span class="pre">queue_fetch_and_acknowledge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acknowledge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_running</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue.queue_fetch_and_acknowledge" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a message from a queue, without blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_name</strong> – The name of the queue to query</p></li>
<li><p><strong>acknowledge</strong> – Flag indicating whether we acknowledge receipt of this item from the queue, preventing it from being
delivered again.</p></li>
<li><p><strong>set_running</strong> – Flag indicating whether we mark this task as being running.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Scheduling attempt ID, or None if the queue is empty</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue.queue_fetch_list">
<span class="sig-name descname"><span class="pre">queue_fetch_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue.queue_fetch_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a list of all the items in a queue, without blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to query</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue.queue_length">
<span class="sig-name descname"><span class="pre">queue_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue.queue_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of messages waiting in a task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to query</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of messages waiting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueue.queue_publish">
<span class="sig-name descname"><span class="pre">queue_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueue.queue_publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a message to a task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_name</strong> – The name of the queue to send the message to.</p></li>
<li><p><strong>item_id</strong> – The integer ID of the scheduling attempt to put into the task queue</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_queues.</span></span><span class="sig-name descname"><span class="pre">TaskQueueAmqp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debugging</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plato_wp36.task_queues.TaskQueue" title="plato_wp36.task_queues.TaskQueue"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskQueue</span></code></a></p>
<p>Python class for interacting with a message queue in RabbitMQ.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close our connection to the message bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp.queue_declare">
<span class="sig-name descname"><span class="pre">queue_declare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp.queue_declare" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare a message queue on the AMQP server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to declare</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp.queue_fetch_and_acknowledge">
<span class="sig-name descname"><span class="pre">queue_fetch_and_acknowledge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acknowledge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_running</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp.queue_fetch_and_acknowledge" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a message from a queue, without blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_name</strong> – The name of the queue to query</p></li>
<li><p><strong>acknowledge</strong> – Flag indicating whether we acknowledge receipt of this item from the queue, preventing it from being
delivered again.</p></li>
<li><p><strong>set_running</strong> – Flag indicating whether we mark this task as being running.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Scheduling attempt ID, or None if the queue is empty</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp.queue_fetch_list">
<span class="sig-name descname"><span class="pre">queue_fetch_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp.queue_fetch_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a list of all the items in a queue, without blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to query</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp.queue_length">
<span class="sig-name descname"><span class="pre">queue_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp.queue_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of messages waiting in a message queue on the AMQP server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to query</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of messages waiting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueAmqp.queue_publish">
<span class="sig-name descname"><span class="pre">queue_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueAmqp.queue_publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a message to a task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_name</strong> – The name of the queue to send the message to.</p></li>
<li><p><strong>item_id</strong> – The integer ID of the scheduling attempt to put into the task queue</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_queues.</span></span><span class="sig-name descname"><span class="pre">TaskQueueConnector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debugging</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueConnector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Factory class for creating connections to task queues.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueConnector.interface">
<span class="sig-name descname"><span class="pre">interface</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueConnector.interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new connection to the task queue as a TaskQueue object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Instance of TaskQueue</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueConnector.make_task_queue_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make_task_queue_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_implementation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mq_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mq_passwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mq_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mq_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueConnector.make_task_queue_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create configuration file with the message bus username and password, which means we connect in the future
without supplying these on the command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_implementation</strong> – The name of the task queue implementation we are using. Either &lt;amqp&gt; or &lt;sql&gt;.</p></li>
<li><p><strong>mq_user</strong> – The username to use when connecting to an AMQP-based task queue.</p></li>
<li><p><strong>mq_passwd</strong> – The password to use when connecting to an AMQP-based task queue.</p></li>
<li><p><strong>mq_host</strong> – The host to use when connecting to an AMQP-based task queue.</p></li>
<li><p><strong>mq_port</strong> – The port number to use when connecting to an AMQP-based task queue.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueConnector.task_queue_config_path">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">task_queue_config_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueConnector.task_queue_config_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to task queue configuration file with task queue connection details.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_queues.</span></span><span class="sig-name descname"><span class="pre">TaskQueueSQL</span></span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plato_wp36.task_queues.TaskQueue" title="plato_wp36.task_queues.TaskQueue"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskQueue</span></code></a></p>
<p>Python class for interacting with a message queue that is embedded into the task database.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close our connection to the message bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL.queue_declare">
<span class="sig-name descname"><span class="pre">queue_declare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL.queue_declare" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare a message queue on the AMQP server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to declare</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL.queue_fetch_and_acknowledge">
<span class="sig-name descname"><span class="pre">queue_fetch_and_acknowledge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acknowledge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_running</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL.queue_fetch_and_acknowledge" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a message from a queue, without blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_name</strong> – The name of the queue to query</p></li>
<li><p><strong>acknowledge</strong> – Flag indicating whether we acknowledge receipt of this item from the queue, preventing it from being
delivered again.</p></li>
<li><p><strong>set_running</strong> – Flag indicating whether we mark this task as being running.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Scheduling attempt ID, or None if the queue is empty</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL.queue_fetch_list">
<span class="sig-name descname"><span class="pre">queue_fetch_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL.queue_fetch_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a list of all the items in a queue, without blocking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to query</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL.queue_length">
<span class="sig-name descname"><span class="pre">queue_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL.queue_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of messages waiting in a message queue on the AMQP server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue_name</strong> – The name of the queue to query</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of messages waiting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskQueueSQL.queue_publish">
<span class="sig-name descname"><span class="pre">queue_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskQueueSQL.queue_publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a message to a task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue_name</strong> – The name of the queue to send the message to.</p></li>
<li><p><strong>item_id</strong> – The integer ID of the scheduling attempt to put into the task queue</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskScheduler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_queues.</span></span><span class="sig-name descname"><span class="pre">TaskScheduler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_implementation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class for add tasks that are waiting to run into the job queue</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskScheduler.reschedule_all_unfinished_jobs">
<span class="sig-name descname"><span class="pre">reschedule_all_unfinished_jobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskScheduler.reschedule_all_unfinished_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>(Re)schedule all unfinished tasks to be (re)-run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskScheduler.schedule_a_task">
<span class="sig-name descname"><span class="pre">schedule_a_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskScheduler.schedule_a_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule a single task to run, by adding it to the job queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_id</strong> – The integer ID of the scheduling attempt to add to the job queue.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskScheduler.schedule_all_waiting_jobs">
<span class="sig-name descname"><span class="pre">schedule_all_waiting_jobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskScheduler.schedule_all_waiting_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule all tasks in the database which have not yet been queued.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_queues.TaskScheduler.schedule_jobs_based_on_criterion">
<span class="sig-name descname"><span class="pre">schedule_jobs_based_on_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_selection_criteria</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_queues.TaskScheduler.schedule_jobs_based_on_criterion" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule all tasks in the database which don’t have any unfulfilled dependencies, and which don’t have
any previous run attempts which meet the database search criterion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_selection_criteria</strong> – SQL criteria used to decide whether a previous run of a task means it shouldn’t be run again.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.task_timer">
<span id="plato-wp36-task-timer-module"></span><h2>plato_wp36.task_timer module<a class="headerlink" href="#module-plato_wp36.task_timer" title="Permalink to this heading">¶</a></h2>
<p>A class which can be used to wrap segments of code, and time how long they take to run, in both wall-clock time and also
CPU time. To use, wrap your code as follows:</p>
<dl class="simple">
<dt>with TaskTimer( &lt;settings&gt; ):</dt><dd><p>&lt;code_segment&gt;</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_timer.TaskTimer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_timer.</span></span><span class="sig-name descname"><span class="pre">TaskTimer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_attempt_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_qc_task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_timer.TaskTimer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class which can be used to wrap segments of code, and time how long they take to run, in both wall-clock time
and also CPU time.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_timer.TaskTimer.measure_time">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">measure_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_timer.TaskTimer.measure_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the function(s) we use to measure how long this process has been running.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary of time measurements</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.task_types">
<span id="plato-wp36-task-types-module"></span><h2>plato_wp36.task_types module<a class="headerlink" href="#module-plato_wp36.task_types" title="Permalink to this heading">¶</a></h2>
<p>Module for reading the list of all known pipeline tasks, and the list of which Docker containers are capable
of running each type of task.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.task_types.TaskTypeList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.task_types.</span></span><span class="sig-name descname"><span class="pre">TaskTypeList</span></span><a class="headerlink" href="#plato_wp36.task_types.TaskTypeList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for reading and representing the list of all known pipeline tasks, and the list of which Docker containers
are capable of running each type of task.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_types.TaskTypeList.containers_for_task">
<span class="sig-name descname"><span class="pre">containers_for_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_type_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_types.TaskTypeList.containers_for_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the names of the Docker containers which are capable of running a particular task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_type_name</strong> (<em>str</em>) – The name of the task to be run</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of string names of Docker containers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_types.TaskTypeList.read_from_xml">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_from_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_xml_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_types.TaskTypeList.read_from_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of an XML file specifying the list of all known pipeline tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_xml_filename</strong> (<em>str</em>) – The filename of the XML file specifying the list of all known pipeline tasks.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>TaskTypeList instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_types.TaskTypeList.task_type_names">
<span class="sig-name descname"><span class="pre">task_type_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_types.TaskTypeList.task_type_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all known task type names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all known task type names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_types.TaskTypeList.tasks_for_container">
<span class="sig-name descname"><span class="pre">tasks_for_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_types.TaskTypeList.tasks_for_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the names of the task types that a named type of Docker container can run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>container_name</strong> (<em>str</em>) – The name of the Docker container</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of string names of tasks the Docker container can run</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.task_types.TaskTypeList.worker_container_names">
<span class="sig-name descname"><span class="pre">worker_container_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.task_types.TaskTypeList.worker_container_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all worker container names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all known worker container names.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36.temporary_directory">
<span id="plato-wp36-temporary-directory-module"></span><h2>plato_wp36.temporary_directory module<a class="headerlink" href="#module-plato_wp36.temporary_directory" title="Permalink to this heading">¶</a></h2>
<p>Class to create a temporary working directory, and clean up its contents afterwards</p>
<dl class="py class">
<dt class="sig sig-object py" id="plato_wp36.temporary_directory.TemporaryDirectory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plato_wp36.temporary_directory.</span></span><span class="sig-name descname"><span class="pre">TemporaryDirectory</span></span><a class="headerlink" href="#plato_wp36.temporary_directory.TemporaryDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to create a temporary working directory, and clean up its contents afterwards</p>
<dl class="py method">
<dt class="sig sig-object py" id="plato_wp36.temporary_directory.TemporaryDirectory.clean_up">
<span class="sig-name descname"><span class="pre">clean_up</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plato_wp36.temporary_directory.TemporaryDirectory.clean_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up temporary directory</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-plato_wp36">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-plato_wp36" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">plato-eas</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">plato_wp36</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">plato_wp36 package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">plato_wp36</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">plato_wp36</a></li>
      <li>Next: <a href="plato_wp36.diagnostics.html" title="next chapter">plato_wp36.diagnostics package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Dominic Ford.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/source/plato_wp36.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>